{% load not_none %}
{% include "includes/svg.html" %}
{% load endswith %}
{% if request.user.is_authenticated %}
  <div class="dropdown vh-100 sidebar">
    <ul class="nav nav-pills flex-column mb-auto">
      <li class="nav-item {% if cal %}nav-active{% endif %}">
        <a href="{% url 'cafe:home' %}" class="nav-link link-dark align-center" aria-current="page">
          <svg class="bi me-2 {% if request.path|endswith:"home/" %} svg-active {% else %} nav-active {% endif %}" width="30" height="30"><use xlink:href="#home"></use></svg>
          Home
        </a>
      </li>
      <li class="nav-item {% if request.path|endswith:"orders/" %}nav-active{% endif %}">
        <a href="{% url 'cafe:order-list' %}" class="nav-link link-dark">
          <svg class="bi me-2 {% if request.path|endswith:"orders/" %} svg-active {% else %} nav-active {% endif %}" width="30" height="30"><use xlink:href="#order"></use></svg>
          Orders
        </a>
      </li>
      <li class="nav-item {% if request.path|endswith:"dishes/" %}nav-active{% endif %}">
        <a href="{% url 'cafe:dish-list' %}" class="nav-link link-dark">
          <svg class="bi me-2 {% if request.path|endswith:"dishes/" %} svg-active {% else %} nav-active {% endif %}" width="30" height="30"><use xlink:href="#menu"></use></svg>
          Menu
        </a>
      </li>
      <li class="nav-item {% if request.path|endswith:"recipes/" %}nav-active{% endif %}">
        <a href="{% url 'cafe:dish-recipe-list' %}" class="nav-link link-dark">
          <svg class="bi me-2 {% if request.path|endswith:"recipes/" %} svg-active {% else %} nav-active {% endif %}" width="30" height="30"><use xlink:href="#recipe-book"></use></svg>
          Recipe book
        </a>
      </li>
      <li class="nav-item {% if request.path|endswith:"dish-types/" %}nav-active{% endif %}">
        <a href="{% url "cafe:dish-type-list" %}" class="nav-link link-dark">
          <svg class="bi me-2 {% if request.path|endswith:"dish-types/" %} svg-active {% else %} nav-active {% endif %}" width="30" height="30"><use xlink:href="#dish-type"></use></svg>
          Dish types
        </a>
      </li>
      <li class="nav-item {% if request.path|endswith:"ingredients/" %}nav-active{% endif %}">
        <a href="{% url 'cafe:ingredient-list' %}" class="nav-link link-dark">
          <svg class="bi me-2 {% if request.path|endswith:"ingredients/" %} svg-active {% else %} nav-active {% endif %}" width="30" height="30"><use xlink:href="#ingredient"></use></svg>
          Ingredients
        </a>
      </li>
      <li class="nav-item {% if request.path|endswith:"employees/" %}nav-active{% endif %}">
        <a href="{% url 'cafe:employee-list' %}" class="nav-link link-dark">
          <svg class="bi me-2 {% if request.path|endswith:"employees/" %} svg-active {% else %} nav-active {% endif %}" width="30" height="30"><use xlink:href="#employee"></use></svg>
          Employees
        </a>
      </li>
      <li class="nav-item {% if request.path|endswith:"positions/" %}nav-active{% endif %}">
        <a href="{% url 'cafe:position-list' %}" class="nav-link link-dark">
          <svg class="bi me-2 {% if request.path|endswith:"positions/" %} svg-active {% else %} nav-active {% endif %}" width="30" height="30"><use xlink:href="#position"></use></svg>
          Positions
        </a>
      </li>
      <hr>
      <li class="nav-item">
        <button class="border-0 w-auto" id="dropdownMenuLink m-0" data-bs-toggle="dropdown" aria-expanded="false">
          <svg class="bi me-2 nav-active svg-active mt-1" width="30" height="30"><use xlink:href="#person"></use></svg>
          {{ request.user.username }}
          <p class="mb-0">Position: {{ request.user.position|not_none }}</p>
        </button>
        <ul class="dropdown-menu text-small shadow border-0 m-0" aria-labelledby="dropdownMenuLink">
          <li><a class="dropdown-item" href="{% url 'cafe:position-create' %}">Create new position</a></li>
          <li><a class="dropdown-item" href="{% url 'cafe:employee-create' %}">Create new employee</a></li>
          <li><a class="dropdown-item" href="{% url 'cafe:dish-type-create' %}">Create new dish-type</a></li>
          <li><a class="dropdown-item" href="{% url 'cafe:ingredient-create' %}">Create new ingredient</a></li>
          <li><a class="dropdown-item" href="{% url 'cafe:dish-create' %}">Create new dish</a></li>
          <li><a class="dropdown-item" href="{% url 'cafe:order-create' pk=0 create='create' %}">Create new order</a></li>
          <li><a class="dropdown-item" href="{% url 'cafe:employee-detail' pk=request.user.pk %}">Profile</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item logout" href="{% url 'logout' %}">Logout</a></li>
        </ul>
      </li>
    </ul>
  </div>
{% endif %}
